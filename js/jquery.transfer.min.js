(function(b){b.fn.transfer=function(a){function g(){a.sortable&&a.join.sortable("destroy").sortable({connectWith:a.join,containment:"document",delay:10,items:a.list,revert:false,start:function(d,c){b.isFunction(a.sortableStartFunction)&&a.sortableStartFunction(d,c)},update:function(d,c){b.isFunction(a.sortableUpdateFunction)&&a.sortableUpdateFunction(d,c)}})}if(a){a=b.extend({join:null,list:null,addButton:".transfer-button-add",removeButton:".transfer-button-remove",action:"click",moveSpeed:300,moveEasing:"swing",
alphaSpeed:400,alphaEasing:"swing",addCheckFunc:function(){return true},addBeforeFunc:null,addFunc:null,addAfterFunc:null,removeCheckFunc:function(){return true},removeBeforeFunc:null,removeFunc:null,removeAfterFunc:null,sortable:false,sortableStartFunction:null,sortableUpdateFunction:null},a);a.transfer=this;if(!(typeof a.transfer!=="object"||a.transfer.length!==1))if(!(typeof a.join!=="object"||a.join.length!==1)){a.$transfers=b(a.list,a.transfer);a.$joins=b(a.list,a.join);b(a.addButton,a.$transfers).live(a.action,
function(){var d=b(this),c=d.closest(a.list);if(a.addCheckFunc(c,d)===true){b.isFunction(a.addBeforeFunc)&&a.addBeforeFunc(c,d);var e=c.clone().appendTo(a.join).css({opacity:0});b.isFunction(a.addFunc)&&a.addFunc(c,d,e);var f=a.moveSpeed,h=a.join.attr("scrollHeight")>a.join.attr("clientHeight")?a.join.attr("scrollHeight"):0;if(scroll===0)f=0;a.join.animate({scrollTop:h},f,a.moveEasing,function(){e.animate({opacity:1},a.alphaSpeed,a.alphaEasing,function(){e.css({opacity:""});b.isFunction(a.addAfterFunc)&&
a.addAfterFunc(c,d,e)})})}});b(a.removeButton,a.$joins).live(a.action,function(){var d=b(this),c=d.closest(a.list);if(a.removeCheckFunc(c,d)===true){b.isFunction(a.removeBeforeFunc)&&a.removeBeforeFunc(c,d);c.css({opacity:1}).animate({opacity:0},a.alphaSpeed,a.alphaEasing,function(){c.remove();b.isFunction(a.removeAfterFunc)&&a.removeAfterFunc(c,d)})}});g();return this}}}})(jQuery);
